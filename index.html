<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#060c12">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#e8f4f0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="FamilyHub">
<title>Famille Dieul-Gandet</title>
<link rel="manifest" href="./manifest.json">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,300;0,400;0,600;0,700;1,300&family=Rajdhani:wght@400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#060c12;--bg2:#0c1620;--surface:#101e2c;--surface2:#162438;
  --border:rgba(0,210,170,0.1);--border2:rgba(0,210,170,0.25);
  --text:#cce8e0;--text2:#5a9080;--text3:#1e4035;
  --teal:#00d0a8;--blue:#0090d8;--green:#20e888;--amber:#ffb020;--red:#ff4060;--purple:#b080ff;
  --safe-top:env(safe-area-inset-top,0px);--safe-bot:env(safe-area-inset-bottom,0px);
}
[data-theme="light"] {
  --bg:#dff0ea;--bg2:#cce0d8;--surface:#bcd0c8;--surface2:#adc0b8;
  --border:rgba(0,100,80,0.15);--border2:rgba(0,100,80,0.3);
  --text:#052018;--text2:#1a5040;--text3:#80b0a0;
  --teal:#007860;--blue:#005090;--green:#0e6040;--amber:#7a5000;--red:#bb1030;--purple:#6040bb;
}
*{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
html,body{min-height:100dvh;background:var(--bg);color:var(--text);font-family:'Rajdhani',sans-serif;overflow-x:hidden;transition:background 0.4s,color 0.4s}

/* Ambient bg */
.bg-layer{position:fixed;inset:0;pointer-events:none;z-index:0}
.bg-grid{position:absolute;inset:0;background-image:linear-gradient(var(--border) 1px,transparent 1px),linear-gradient(90deg,var(--border) 1px,transparent 1px);background-size:44px 44px;opacity:0.5}
.bg-orb1{position:absolute;top:-15%;left:-10%;width:70%;height:60%;background:radial-gradient(ellipse,rgba(0,208,168,0.07) 0%,transparent 65%)}
.bg-orb2{position:absolute;bottom:-20%;right:-5%;width:60%;height:55%;background:radial-gradient(ellipse,rgba(0,144,216,0.06) 0%,transparent 65%)}
[data-theme="light"] .bg-grid{opacity:0.3}

#app{position:relative;z-index:1;min-height:100dvh;display:flex;flex-direction:column;padding:calc(var(--safe-top)+20px) 20px calc(var(--safe-bot)+28px);max-width:520px;margin:0 auto}

/* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
.header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:32px;animation:fadeDown 0.5s ease both}
.eyebrow{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:4px;text-transform:uppercase;color:var(--teal);opacity:0.7;margin-bottom:8px}
.title{font-family:'Josefin Sans',sans-serif;font-size:clamp(30px,9vw,44px);font-weight:700;line-height:1.0;letter-spacing:2px;text-transform:uppercase}
.title em{font-style:italic;font-weight:300;color:var(--teal);letter-spacing:3px}
.subtitle{font-size:12px;color:var(--text2);margin-top:8px;font-family:'Share Tech Mono',monospace;letter-spacing:1px}
.header-actions{display:flex;gap:8px;padding-top:4px;flex-shrink:0}
.btn-icon{width:38px;height:38px;border-radius:10px;border:1px solid var(--border2);background:var(--surface);color:var(--text2);font-size:17px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s}
.btn-icon:active{transform:scale(0.88)}

/* ‚îÄ‚îÄ Users ‚îÄ‚îÄ */
.user-bar{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:24px;animation:fadeUp 0.5s 0.08s ease both}
.user-chip{display:flex;align-items:center;gap:10px;padding:12px 14px;background:var(--surface);border:1px solid var(--border);border-radius:14px;cursor:default;transition:all 0.3s;position:relative;overflow:hidden}
.user-chip.active{border-color:var(--border2)}
.user-chip.active::after{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(0,208,168,0.07),transparent);pointer-events:none}
.user-avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:700;flex-shrink:0;font-family:'Josefin Sans',sans-serif;letter-spacing:0.5px}
.av-g{background:linear-gradient(135deg,var(--teal),var(--blue));color:#fff}
.av-m{background:linear-gradient(135deg,var(--purple),var(--blue));color:#fff}
.user-info{flex:1;min-width:0}
.user-first{font-family:'Josefin Sans',sans-serif;font-size:14px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px}
.user-last{font-size:11px;color:var(--text2);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.user-dot{width:7px;height:7px;border-radius:50%;flex-shrink:0}
.dot-g{background:var(--green);box-shadow:0 0 6px var(--green);animation:pulse 2.5s infinite}
.dot-m{background:var(--teal);box-shadow:0 0 6px var(--teal);animation:pulse 2.5s 1.2s infinite}

/* ‚îÄ‚îÄ Live stats ‚îÄ‚îÄ */
.stats-strip{display:flex;gap:6px;margin-bottom:24px;animation:fadeUp 0.5s 0.14s ease both}
.stat-mini{flex:1;text-align:center;padding:10px 6px;background:var(--surface);border:1px solid var(--border);border-radius:10px;cursor:pointer;transition:all 0.2s;text-decoration:none;color:var(--text)}
.stat-mini:active{transform:scale(0.94)}
.stat-n{font-family:'Josefin Sans',sans-serif;font-size:20px;font-weight:700}
.stat-l{font-family:'Share Tech Mono',monospace;font-size:8px;text-transform:uppercase;letter-spacing:1.5px;color:var(--text2);display:block;margin-top:2px}
.n-teal{color:var(--teal)} .n-green{color:var(--green)} .n-amber{color:var(--amber)} .n-blue{color:var(--blue)}

/* ‚îÄ‚îÄ Section ‚îÄ‚îÄ */
.sect-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--text3);margin-bottom:10px}

/* ‚îÄ‚îÄ App Grid ‚îÄ‚îÄ */
.apps-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}
.app-card{position:relative;overflow:hidden;padding:18px 16px;background:var(--surface);border:1px solid var(--border);border-radius:18px;text-decoration:none;color:var(--text);cursor:pointer;transition:all 0.3s cubic-bezier(0.34,1.5,0.64,1);display:flex;flex-direction:column;gap:10px}
.app-card:hover{transform:translateY(-4px) scale(1.01);border-color:var(--border2)}
.app-card:active{transform:scale(0.96)}
.app-card.wide{grid-column:1/-1;flex-direction:row;align-items:center;gap:16px;padding:16px 20px}
.app-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;opacity:0;transition:opacity 0.3s}
.app-card:hover::before{opacity:1}
.c-teal::before{background:linear-gradient(90deg,var(--teal),var(--blue))}
.c-green::before{background:linear-gradient(90deg,var(--green),var(--teal))}
.c-blue::before{background:linear-gradient(90deg,var(--blue),var(--purple))}
.c-amber::before{background:linear-gradient(90deg,var(--amber),var(--green))}
.c-purple::before{background:linear-gradient(90deg,var(--purple),var(--blue))}

.app-icon{width:46px;height:46px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0;transition:transform 0.3s}
.app-card:hover .app-icon{transform:scale(1.1) rotate(-4deg)}
.i-teal{background:linear-gradient(135deg,rgba(0,208,168,0.18),rgba(0,144,216,0.08));border:1px solid rgba(0,208,168,0.18)}
.i-green{background:linear-gradient(135deg,rgba(32,232,136,0.18),rgba(0,208,168,0.08));border:1px solid rgba(32,232,136,0.18)}
.i-blue{background:linear-gradient(135deg,rgba(0,144,216,0.18),rgba(176,128,255,0.08));border:1px solid rgba(0,144,216,0.18)}
.i-amber{background:linear-gradient(135deg,rgba(255,176,32,0.18),rgba(32,232,136,0.08));border:1px solid rgba(255,176,32,0.18)}
.i-purple{background:linear-gradient(135deg,rgba(176,128,255,0.18),rgba(0,144,216,0.08));border:1px solid rgba(176,128,255,0.18)}

.app-info{flex:1;min-width:0}
.app-name{font-family:'Josefin Sans',sans-serif;font-size:14px;font-weight:700;text-transform:uppercase;letter-spacing:0.8px;margin-bottom:3px}
.app-desc{font-size:12px;color:var(--text2);line-height:1.4}
.app-tag{display:inline-block;font-family:'Share Tech Mono',monospace;font-size:9px;padding:2px 8px;border-radius:10px;margin-top:5px;letter-spacing:0.5px}
.t-teal{background:rgba(0,208,168,0.1);color:var(--teal);border:1px solid rgba(0,208,168,0.2)}
.t-green{background:rgba(32,232,136,0.1);color:var(--green);border:1px solid rgba(32,232,136,0.2)}
.t-blue{background:rgba(0,144,216,0.1);color:var(--blue);border:1px solid rgba(0,144,216,0.2)}
.t-amber{background:rgba(255,176,32,0.1);color:var(--amber);border:1px solid rgba(255,176,32,0.2)}
.t-purple{background:rgba(176,128,255,0.1);color:var(--purple);border:1px solid rgba(176,128,255,0.2)}
.app-arrow{color:var(--text3);font-size:18px;flex-shrink:0;transition:transform 0.2s}
.app-card:hover .app-arrow{transform:translateX(4px)}

/* Stagger */
.app-card:nth-child(1){animation:fadeUp 0.4s 0.18s ease both}
.app-card:nth-child(2){animation:fadeUp 0.4s 0.23s ease both}
.app-card:nth-child(3){animation:fadeUp 0.4s 0.28s ease both}
.app-card:nth-child(4){animation:fadeUp 0.4s 0.33s ease both}
.app-card:nth-child(5){animation:fadeUp 0.4s 0.38s ease both}

/* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
.footer{margin-top:auto;padding-top:20px;display:flex;align-items:center;justify-content:space-between;border-top:1px solid var(--border);animation:fadeUp 0.4s 0.42s ease both}
.footer-left{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--text3);letter-spacing:1px;line-height:1.7}
.ver-chip{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--teal);border:1px solid rgba(0,208,168,0.2);padding:4px 10px;border-radius:20px;background:rgba(0,208,168,0.05)}

@keyframes fadeDown{from{opacity:0;transform:translateY(-14px)}to{opacity:1;transform:none}}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:none}}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.3}}
</style>
</head>
<body>
<div class="bg-layer"><div class="bg-grid"></div><div class="bg-orb1"></div><div class="bg-orb2"></div></div>
<div id="app">

  <div class="header">
    <div>
      <div class="eyebrow">// espace.familial ¬∑ pierrelaye</div>
      <h1 class="title">Dieul<br><em>Gandet</em></h1>
      <div class="subtitle">hub ¬∑ 5 applications</div>
    </div>
    <div class="header-actions">
      <button class="btn-icon" id="themeBtn" onclick="toggleTheme()" title="Th√®me">üåô</button>
    </div>
  </div>

  <div class="user-bar">
    <div class="user-chip active">
      <div class="user-avatar av-g">GD</div>
      <div class="user-info">
        <div class="user-first">Guillaume</div>
        <div class="user-last">Dieul</div>
      </div>
      <div class="user-dot dot-g"></div>
    </div>
    <div class="user-chip">
      <div class="user-avatar av-m">MG</div>
      <div class="user-info">
        <div class="user-first">Mich√®le</div>
        <div class="user-last">Grassiot Gandet</div>
      </div>
      <div class="user-dot dot-m"></div>
    </div>
  </div>

  <!-- Stats dynamiques depuis localStorage -->
  <div class="stats-strip">
    <a class="stat-mini" href="locker-tracker/index.html">
      <div class="stat-n n-teal" id="statColis">‚Äî</div>
      <span class="stat-l">Colis</span>
    </a>
    <a class="stat-mini" href="liste-courses/index.html">
      <div class="stat-n n-green" id="statCourses">‚Äî</div>
      <span class="stat-l">Courses</span>
    </a>
    <a class="stat-mini" href="todo-partage/index.html">
      <div class="stat-n n-amber" id="statTodos">‚Äî</div>
      <span class="stat-l">T√¢ches</span>
    </a>
    <a class="stat-mini" href="cave-spiritueux/index.html">
      <div class="stat-n n-blue" id="statCave">‚Äî</div>
      <span class="stat-l">Cave</span>
    </a>
  </div>

  <div class="sect-label">// applications</div>

  <div class="apps-grid">
    <a class="app-card c-teal" href="locker-tracker/index.html">
      <div class="app-icon i-teal">üì¶</div>
      <div class="app-info">
        <div class="app-name">Colis</div>
        <div class="app-desc">Suivi livraisons & consignes</div>
        <span class="app-tag t-teal">SMS ¬∑ Gmail</span>
      </div>
    </a>

    <a class="app-card c-green" href="liste-courses/index.html">
      <div class="app-icon i-green">üõí</div>
      <div class="app-info">
        <div class="app-name">Courses</div>
        <div class="app-desc">Liste partag√©e en temps r√©el</div>
        <span class="app-tag t-green">Sync P2P</span>
      </div>
    </a>

    <a class="app-card c-blue" href="todo-partage/index.html">
      <div class="app-icon i-blue">‚úÖ</div>
      <div class="app-info">
        <div class="app-name">To-Do</div>
        <div class="app-desc">T√¢ches familiales partag√©es</div>
        <span class="app-tag t-blue">Partag√©</span>
      </div>
    </a>

    <a class="app-card c-amber" href="cave-spiritueux/index.html">
      <div class="app-icon i-amber">üç∑</div>
      <div class="app-info">
        <div class="app-name">Cave</div>
        <div class="app-desc">Vins, rhums & whiskies</div>
        <span class="app-tag t-amber">Inventaire</span>
      </div>
    </a>

    <a class="app-card c-purple wide" href="menus-semaine/index.html">
      <div class="app-icon i-purple">üçΩÔ∏è</div>
      <div class="app-info">
        <div class="app-name">Menus de la semaine</div>
        <div class="app-desc">Planification des repas ¬∑ semaine & mois</div>
        <span class="app-tag t-purple">Semaine ¬∑ Mois</span>
      </div>
      <div class="app-arrow">‚Ä∫</div>
    </a>
  </div>

  <div class="footer">
    <div class="footer-left">
      21 rue du Beauregard ¬∑ Pierrelaye<br>
      <span id="syncTime" style="opacity:0.6">‚Äî</span>
    </div>
    <div class="ver-chip">v2.0</div>
  </div>

</div>
<script>
function applyTheme() {
  const sys   = window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light';
  const saved = localStorage.getItem('fh_theme');
  const theme = saved||sys;
  document.documentElement.dataset.theme = theme;
  document.getElementById('themeBtn').textContent = theme==='dark'?'üåô':'‚òÄÔ∏è';
}
function toggleTheme() {
  const cur = document.documentElement.dataset.theme;
  const nxt = cur==='dark'?'light':'dark';
  localStorage.setItem('fh_theme',nxt);
  applyTheme();
}
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',()=>{ if(!localStorage.getItem('fh_theme')) applyTheme(); });
applyTheme();

// Stats from localStorage
function loadStats() {
  try {
    // Colis en attente
    const colis = JSON.parse(localStorage.getItem('lockertrack_v2'))||{packages:[]};
    const colisActifs = colis.packages.filter(p=>p.status==='ready'||p.status==='pending').length;
    document.getElementById('statColis').textContent = colisActifs;

    // Articles courses
    const courses = JSON.parse(localStorage.getItem('familyhub_courses_v2'))||{items:[]};
    const coursesRestants = (courses.items||[]).filter(i=>!i.checked).length;
    document.getElementById('statCourses').textContent = coursesRestants;

    // T√¢ches
    const todos = JSON.parse(localStorage.getItem('familyhub_todos_v2'))||{tasks:[]};
    const todosRestants = (todos.tasks||[]).filter(t=>!t.done).length;
    document.getElementById('statTodos').textContent = todosRestants;

    // Cave
    const cave = JSON.parse(localStorage.getItem('familyhub_cave_v2'))||{bottles:[]};
    const bottles = (cave.bottles||[]).reduce((s,b)=>s+(b.qty||0),0);
    document.getElementById('statCave').textContent = bottles;
  } catch {}
}
loadStats();

// Heure sync
const now = new Date();
document.getElementById('syncTime').textContent = now.toLocaleTimeString('fr-FR',{hour:'2-digit',minute:'2-digit'});
</script>
</body>
</html>
